struct TestStruct{
    var hoge:i32;
    var fuga:f32;
    var piyo:str;
}

func main(let argc: i64)->int {
    var test :TestStruct = make TestStruct(1, 3.14, "hoge");
    println(test.hoge);
    println(test.fuga);
    println(test.piyo);
    ref_test(ref test);
    return 0;
}

func ref_test(var hoge: ref TestStruct)->void{
    var fuga: TestStruct = clone hoge;
    var piyo: ref TestStruct = hoge;
    println(hoge.hoge);
    println(fuga.hoge);
    println(piyo.hoge);
    fuga.hoge = 5;
    println(hoge.hoge);
    println(fuga.hoge);
    println(piyo.hoge);
    hoge.hoge = 10;
    println(hoge.hoge);
    println(fuga.hoge);
    println(piyo.hoge);
    piyo.hoge = 10;
    println(hoge.hoge);
    println(fuga.hoge);
    println(piyo.hoge);
}